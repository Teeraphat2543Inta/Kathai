{% extends "base.html" %}
{% load refinance_tags %}
{% block title %}แก้ไข {{ header_title }}{% endblock %}
{% block content %}

<!-- Header -->


<!-- ฟอร์ม -->
<div class="card card-ghost">
<div class="d-flex flex-column align-items-center justify-content-center text-center py-4">
    <h2 class="title mb-1">แก้ไข {{ header_title }}</h2>
    <p class="subtitle">กรอกหรือแก้ไขข้อมูลของธนาคาร</p>
  </div>
  <div class="card-body p-3 p-md-4">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="row g-3 g-md-4">
        {% for field in fields %}
        <div class="col-12 col-md-6 px-5">
          <div class="mb-3">
            <label class="form-label">{{ field.label }}</label>
            {% if field.type == "DateField" %}
              <input type="date" name="{{ field.name }}" value="{{ bank|get_attr:field.name }}" class="form-control">
            {% elif field.type == "DateTimeField" %}
              <input type="datetime-local" name="{{ field.name }}" value="{{ bank|get_attr:field.name|date:'Y-m-d\\TH:i' }}" class="form-control">
            {% elif field.type == "IntegerField" or field.type == "FloatField" %}
              <input type="number" step="0.01" name="{{ field.name }}" value="{{ bank|get_attr:field.name }}" class="form-control">
            {% elif field.name == "logo" %}
              <input type="file" name="{{ field.name }}" class="form-control">
              {% if bank.logo %}
              <img src="{{ bank.logo.url }}" alt="{{ bank.name }}" width="200px" class="mt-2 rounded border">
              {% endif %}
            {% else %}
              <input type="text" name="{{ field.name }}" value="{{ bank|get_attr:field.name }}" class="form-control">
            {% endif %}
          </div>
        </div>
        {% endfor %}
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary px-4" style="min-width: 140px; min-height: 50px; border-radius: 10px;">
          <i class="bi bi-save me-1"></i> บันทึก
        </button>
        <a href="{% url 'refinance:bank_dashboard'%}" class="btn btn-outline-secondary ms-2 px-4" style="min-width: 140px; min-height: 50px; border-radius: 10px;">
          <i class="bi bi-arrow-left me-1"></i> ย้อนกลับ
        </a>
      </div>
    </form>
  </div>
</div>

{% endblock %}
