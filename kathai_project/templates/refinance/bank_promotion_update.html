{% extends "base.html" %}
{% block title %}แก้ไข {{ header_title }}{% endblock %}

{% block content %}

<div class="card card-ghost">
  <div class="d-flex flex-column align-items-center justify-content-center text-center py-4">
      <h2 class="title mb-1">แก้ไข {{ header_title }}</h2>
      <p class="subtitle">กรอกข้อมูลโปรโมชั่น</p>
  </div>
  <div class="card-body p-3 p-md-4">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="row g-3 g-md-4">
        {% for field in form %}
        <div class="col-12 col-md-6 px-5">
          <div class="mb-3">
            <label class="form-label">{{ field.label }}</label>
            
            {% if field.name == "banner_image" %}
              {{ field }}
              {% if form.instance.banner_image %}
                <img src="{{ form.instance.banner_image.url }}" 
                     alt="{{ form.instance.title }}" 
                     width="200px" class="mt-2 rounded border">
              {% endif %}
            {% else %}
              {{ field }}
            {% endif %}
            
            {% if field.help_text %}
              <small class="text-muted">{{ field.help_text }}</small>
            {% endif %}
            {% for error in field.errors %}
              <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary px-4" style="min-width: 140px; min-height: 50px; border-radius: 10px;">
          <i class="bi bi-save me-1"></i> บันทึก
        </button>
        <a href="{% url 'refinance:bank_dashboard' %}" class="btn btn-outline-secondary ms-2 px-4" style="min-width: 140px; min-height: 50px; border-radius: 10px;">
          <i class="bi bi-arrow-left me-1"></i> ย้อนกลับ
        </a>
      </div>
    </form>
  </div>
</div>

{% endblock %}
